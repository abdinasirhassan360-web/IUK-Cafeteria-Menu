<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cafeteria Menu</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link href="styles.css" rel="stylesheet" />

  <!-- Favicon (default to light, dynamic switch added via JS) -->
  <link rel="icon" type="image/png" href="favicon-light.png">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <!-- App Icons for devices -->
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="apple-touch-icon" href="icons/icon-512.png">

  <!-- Theme colors -->
  <meta name="theme-color" content="#29607b" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#231f20" media="(prefers-color-scheme: dark)">

  <!-- iOS fullscreen & status bar -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
</head>

<body>
  <div class="menu">
    <div class="menu-wrapper">
      <div class="menu-header">
        <img src="images/hdf-logo-with-text.png" alt="IUK Logo" class="logo left-logo">
        <h1> </h1> 
        <img src="images/cafeteria-menu-text.png" alt="Cafeteria Menu Text" class="logo right-logo">
      </div>

      <div class="menu-grid">
        <!-- BREAKFAST -->
        <section>
          <h2></h2>
          <article class="item"><p class="dessert">Chapati Plain (1 Piece)</p><p class="price">20/-</p></article>
          <article class="item"><p class="flavor">Boiled Egg</p><p class="price">30/-</p></article>
          <article class="item"><p class="flavor">Fried Eggs (2 Eggs)</p><p class="price">60/-</p></article>
          <article class="item"><p class="flavor">Rolex (1 Chapati)</p><p class="price">80/-</p></article>
          <article class="item"><p class="flavor">Rolex (2 Chapatis)</p><p class="price">100/-</p></article>
          <article class="item">
            <div class="flavor-block">
              <p class="main">Spanish Omelet</p>
              <p class="details">(With 1 Chapati)</p>
            </div>
            <p class="price">150/-</p>
          </article>
        </section>

        <!-- SNACKS -->
        <section>
          <h2></h2>
          <article class="item"><p class="dessert">Maandazi</p><p class="price">10/-</p></article>
          <article class="item"><p class="dessert">Ndengu Samosa (Small)</p><p class="price">10/-</p></article>
          <article class="item"><p class="dessert">Potato Samosa (Small)</p><p class="price">10/-</p></article>
          <article class="item"><p class="dessert">Beef Samosa</p><p class="price">50/-</p></article>
          <article class="item"><p class="dessert">Beef Sausage</p><p class="price">50/-</p></article>
          <article class="item"><p class="dessert">Beef Smokey</p><p class="price">40/-</p></article>
          <article class="item"><p class="dessert">Chips Plain - Small</p><p class="price">50/-</p></article>
          <article class="item"><p class="dessert">Chips Plain - Large</p><p class="price">100/-</p></article>
        </section>

        <!-- MAIN MEALS -->
        <section>
          <h2></h2>
          <article class="item"><p class="main">Pilau</p><p class="price">150/-</p></article>
          <article class="item"><div class="flavor-block"><p class="main">Chapati Choma</p><p class="details">(2 Pieces)</p></div><p class="price">50/-</p></article>
          <article class="item"><p class="main">Chips Masala</p><p class="price">150/-</p></article>
          <article class="item"><p class="main">Chips Mayai</p><p class="price">150/-</p></article>
          <article class="item"><div class="flavor-block"><p class="main">Spaghetti</p><p class="details">(Minced Meat & Beans)</p></div><p class="price">150/-</p></article>
          <article class="item"><div class="flavor-block"><p class="main">Matumbo</p><p class="details">(With Rice or Ugali)</p></div><p class="price">150/-</p></article>
          <article class="item"><p class="main">Fried Noodles</p><p class="price">100/-</p></article>
          <article class="item"><p class="main">Chicken Fried Rice</p><p class="price">130/-</p></article>
          <article class="item"><p class="main">Veggie Fried Rice</p><p class="price">80/-</p></article>
          <article class="item"><p class="main">White Rice</p><p class="price">50/-</p></article>
          <article class="item"><p class="main">Ugali</p><p class="price">50/-</p></article>
        </section>

        <!-- SIDES & VEGGIES -->
        <section>
          <h2></h2>
          <article class="item"><p class="appetizer">Managu</p><p class="price">60/-</p></article>
          <article class="item"><p class="appetizer">Spinach</p><p class="price">30/-</p></article>
          <article class="item"><p class="appetizer">Cabbage</p><p class="price">30/-</p></article>
          <article class="item"><p class="appetizer">Beans</p><p class="price">50/-</p></article>
          <article class="item"><p class="appetizer">Matumbo (Plain)</p><p class="price">70/-</p></article>
          <article class="item"><p class="appetizer">Pojo/Ndengu</p><p class="price">50/-</p></article>
          <article class="item"><p class="appetizer">Beef Stew</p><p class="price">100/-</p></article>
          <article class="item"><p class="appetizer">Vegetable Stew</p><p class="price">50/-</p></article>
          <article class="item"><p class="appetizer">Potato Stew</p><p class="price">50/-</p></article>
        </section>

        <!-- HOT BEVERAGES -->
        <section>
          <h2></h2>
          <article class="item"><p class="drink">Black Tea</p><p class="price">30/-</p></article>
          <article class="item"><p class="drink">Milk Tea</p><p class="price">30/-</p></article>
          <article class="item"><p class="drink">Special Tea (White Only)</p><p class="price">50/-</p></article>
          <article class="item"><p class="drink">Black Coffee</p><p class="price">30/-</p></article>
          <article class="item"><p class="drink">White Coffee</p><p class="price">50/-</p></article>
          <article class="item"><p class="drink">Cappuccino</p><p class="price">150/-</p></article>
          <article class="item"><p class="drink">Caf√© Latte</p><p class="price">150/-</p></article>
          <article class="item"><p class="drink">Chai Latte</p><p class="price">150/-</p></article>
          <article class="item"><p class="drink">Masala Tea</p><p class="price">50/-</p></article>
          <article class="item"><p class="drink">Ginger Tea</p><p class="price">50/-</p></article>

          <article class="item dawa">
            <div class="flavor-block">
              <p class="drink">Chai Dawa</p>
              <ul class="dawa-types">
                <li>Honey</li>
                <li>Ginger</li>
                <li>Lemon</li>
                <li>Garlic</li>
              </ul>
            </div>
            <p class="price">100/-</p>
          </article>
        </section>

        <!-- COLD BEVERAGES -->
        <section>
          <h2></h2>
          <article class="item"><p class="dessert">Soda 350ml</p><p class="price"><span class="no-break">50‚Äì60/-</span></p></article>
          <article class="item"><p class="dessert">Soda 500ml</p><p class="price">80/-</p></article>
          <article class="item"><p class="dessert">Minute Maid 400ml</p><p class="price">50/-</p></article>
          <article class="item"><p class="dessert">Mineral Water 500ml</p><p class="price">30/-</p></article>
          <article class="item"><p class="dessert">Mineral Water 1 litre</p><p class="price">60/-</p></article>

          <h3 class="sub-category">FRESH JUICE</h3>
          <article class="item"><p class="dessert">Mango</p><div class="price-list"><span>Small 60/-</span><span>Large 100/-</span></div></article>
          <article class="item"><p class="dessert">Passion</p><div class="price-list"><span>Small 60/-</span><span>Large 100/-</span></div></article>
          <article class="item"><p class="dessert">Pineapple Mint</p><div class="price-list"><span>Small 60/-</span><span>Large 100/-</span></div></article>
          <article class="item"><p class="dessert">Lemonade</p><div class="price-list"><span>100/-</span></div></article>
          <article class="item"><p class="dessert">Cocktail</p><div class="price-list"><span>Small 60/-</span><span>Large 100/-</span></div></article>
          <article class="item"><p class="dessert">Apple Ginger</p><div class="price-list"><span>Small 60/-</span><span>Large 100/-</span></div></article>

          <article class="item">
            <div class="flavor-block">
              <p class="dessert">Peruvian Mix</p>
              <p class="details">(Pineapple ‚Ä¢ Orange ‚Ä¢ Apple)</p>
            </div>
            <div class="price-list"><span>Small 60/-</span><span>Large 100/-</span></div>
          </article>
        </section>
      </div>
    </div>
  </div>

  <!-- Install Button -->
  <button id="installBtn" style="
    display: none;
    background-color: #29607b;
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    position: fixed;
    bottom: 20px;
    right: 20px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    animation: pulse 2s infinite;
  ">
    üì± Add to Home Screen
  </button>

  <!-- Success Message -->
  <div id="installSuccess" style="
    display: none;
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #16a34a;
    color: white;
    padding: 10px 16px;
    border-radius: 8px;
    font-size: 15px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  ">
    ‚úÖ Added to Home Screen
  </div>

  <!-- JS Scripts -->
  <script src="js/main.js"></script>
  <script>
    // PWA Install Prompt
    let deferredPrompt;
    const installBtn = document.getElementById('installBtn');
    const successMsg = document.getElementById('installSuccess');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = 'block';
    });

    installBtn.addEventListener('click', async () => {
      installBtn.style.display = 'none';
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') {
          successMsg.style.display = 'block';
          setTimeout(() => successMsg.style.display = 'none', 3000);
        }
        deferredPrompt = null;
      }
    });

    window.addEventListener('appinstalled', () => {
      installBtn.style.display = 'none';
      successMsg.style.display = 'block';
      setTimeout(() => successMsg.style.display = 'none', 3000);
    });

    // Register Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('‚úÖ Service Worker registered!'))
        .catch(err => console.log('‚ùå SW registration failed:', err));
    }

    // Dynamic Favicon for light/dark mode
    const lightFavicon = "favicon-light.png";
    const darkFavicon = "favicon-dark.png";

    function updateFavicon() {
      const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      let favicon = document.querySelector('link[rel="icon"]');
      if (!favicon) {
        favicon = document.createElement('link');
        favicon.rel = 'icon';
        favicon.type = 'image/png';
        document.head.appendChild(favicon);
      }
      favicon.href = isDark ? darkFavicon : lightFavicon;
    }

    updateFavicon();
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateFavicon);
  </script>
</body>
</html>
